---
title: "Claude Code を Zed で軽量に使う設定 — ビルトイン AI を切る理由"
emoji: "⚡"
type: "tech"
topics: ["claudecode", "zed", "エディタ", "開発環境"]
published: false
---

Cursor で Claude Code を使っていたとき、ファイル変更のたびに一瞬フリーズするのが気になっていました。Cursor の Tab 補完や Composer を使わず、Claude Code の拡張機能だけ動かしているのに、バックグラウンドのインデックス作成が CPU を使い続ける。重い器に軽い中身を入れている状態でした。

Zed に乗り換えてから、ファイルの表示は一瞬になり、CPU 使用率も下がりました。この記事では、Claude Code と組み合わせるための Zed の設定をまとめます。

## なぜ Zed か

Claude Code をメインの開発ツールにすると、エディタの役割は「コードを書く」から「コードを読む」に変わります。Claude Code がファイルを編集し、エディタはその変更を即座に表示する。この役割分担なら、軽さが最優先です。

私が使っているレイアウトは以下の3ペイン構成です。

## レイアウト

```text
┌──────────────────┬──────────────────┬─────────────┐
│                  │                  │             │
│ Claude Code CLI  │   Zed Editor     │ File Tree   │
│ (ターミナル)      │   (ファイル表示)  │ (右端)      │
│                  │                  │             │
│ 指示を出す        │   結果を確認する  │ 構造を把握   │
└──────────────────┴──────────────────┴─────────────┘
```

左の CLI で指示を出すと、Claude Code がファイルを修正します。中央の Zed へ即座に反映されます。右のファイルツリーでプロジェクト全体の構造を俯瞰できます。

## ビルトイン AI を切る設定

Zed の Agent Panel（GUI 版の AI チャット）は、Claude Code CLI と機能が重複します。両方有効にするとコンテキストの二重消費になります。

```jsonc
// ~/.config/zed/settings.json
{
  "agent": {
    "enabled": false
  },
  "features": {
    "edit_prediction_provider": "none"
  }
}
```

Agent Panel（旧 Assistant Panel）と AI コード補完を無効化し、Claude Code CLI だけを使う構成にします。

> 設定キーは Zed のバージョンによって変わることがあります。動作しない場合は [Zed 公式ドキュメント](https://zed.dev/docs)で最新のキーを確認してください。

## Claude Code をターミナルで使う理由

Zed は Agent Panel 経由でも Claude を使えますが、CLI 版を Zed のターミナルで直接起動するほうが便利です。

- **コンテキスト消費量が表示される**: CLI のステータスバー（画面下部）にコンテキスト使用率がパーセンテージで表示される。残量を見ながら作業の区切りを判断できる
- **全機能が使える**: `/learn`、`/plan`、MCP サーバー連携など CLI 限定の機能がある
- **操作の透明性**: Claude Code が実行するコマンドやファイル変更がターミナルに表示される

## おすすめの追加設定

### テーマとフォント

```jsonc
{
  "theme": "One Dark",
  "ui_font_size": 14,
  "buffer_font_size": 14,
  "buffer_font_family": "JetBrains Mono"
}
```

### ファイル変更の自動リロード

Claude Code がファイルを変更したとき、Zed は自動的に内容を更新します。追加設定は不要です。これが Zed を Claude Code と組み合わせる大きなメリットです。

### 言語サーバー

Zed は言語サーバー（LSP）を内蔵しています。TypeScript、Python、Rust などは設定なしで定義ジャンプやコード補完が動作します。Swift は sourcekit-lsp 経由で動きますが、ビルドとシミュレータ実行は Xcode 側で行います。

## 注意点

**日本語入力**: Zed の日本語入力はまだ発展途上です。コメントや CLAUDE.md の編集時にもたつきを感じることがあります。メイン入力先がターミナル（Claude Code CLI）なら、実用上の支障は限定的です。

**設定ファイルの変更**: バージョンアップで設定キーの構造が変わる場合もあるため、バックアップを取っておくと安心です。

## まとめ

Cursor から Zed に移行して変わったことは3つです。

1. **起動とファイル表示が速くなった** — Claude Code がファイルを変更してから Zed に反映されるまでのラグがほぼゼロ
2. **CPU・メモリ使用量が減った** — ビルトイン AI を切ったことでバックグラウンド処理がなくなった
3. **操作が CLI に集約された** — 指示はターミナル、確認はエディタという役割分担が明確に

Claude Code をメインで使うなら、エディタは「軽い表示器」と割り切るのが快適です。
